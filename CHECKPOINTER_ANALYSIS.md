# –ê–Ω–∞–ª–∏–∑ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ Checkpointer

## üìä –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

**–†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞:** ~817 —Å—Ç—Ä–æ–∫  
**–¢–∏–ø:** –ú–æ–Ω–æ–ª–∏—Ç–Ω—ã–π –º–æ–¥—É–ª—å —Å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—è–º–∏

## ‚úÖ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –ü–†–ê–í–ò–õ–¨–ù–û

### 1. **Production-ready –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ PgBouncer (`prepare_threshold=None`)
- ‚úÖ Health check —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π (`check_connection`)
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —á–µ—Ä–µ–∑ environment variables
- ‚úÖ Fallback –Ω–∞ MemorySaver –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

### 2. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ–¥–ª–µ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ –ö–æ–º–ø–∞–∫—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –±–æ–ª—å—à–∏—Ö payload
- ‚úÖ Warmup –ø—É–ª–∞ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
- ‚úÖ –ú–µ—Ç—Ä–∏–∫–∏ latency

### 3. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- ‚úÖ Graceful degradation (fallback –Ω–∞ MemorySaver)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü

## ‚ö†Ô∏è –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã (–ò–°–ü–†–ê–í–õ–ï–ù–´)

### 1. **Race condition –≤ `_open_pool_on_demand`** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û
**–ü—Ä–æ–±–ª–µ–º–∞:** –ì–ª–æ–±–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `_pool_opened` –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏  
**–†–∏—Å–∫:** –í async –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –≤–æ–∑–º–æ–∂–Ω—ã race conditions  
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω `asyncio.Lock()` –¥–ª—è thread-safe –ø—Ä–æ–≤–µ—Ä–∫–∏

### 2. **–ù–µ—Ç graceful shutdown** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û
**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—É–ª –Ω–µ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è  
**–†–∏—Å–∫:** –£—Ç–µ—á–∫–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π, –ø—Ä–æ–±–ª–µ–º—ã –ø—Ä–∏ —Ä–µ—Å—Ç–∞—Ä—Ç–∞—Ö  
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `shutdown_checkpointer_pool()` –∏ –≤—ã–∑–æ–≤ –≤ `lifespan` shutdown

### 3. **`check_connection` –Ω–∞ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ**
**–ü—Ä–æ–±–ª–µ–º–∞:** `SELECT 1` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –≤–∑—è—Ç–∏–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∏–∑ –ø—É–ª–∞  
**–í–ª–∏—è–Ω–∏–µ:** –ù–µ–±–æ–ª—å—à–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ (~1-5ms) –Ω–∞ –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å  
**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è ACCEPTABLE - PostgreSQL –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç `SELECT 1`, –Ω–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –∫–æ—Ä–æ—Ç–∫–æ–µ –≤—Ä–µ–º—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, 1-2 —Å–µ–∫—É–Ω–¥—ã)

## üîç –ü–æ—á–µ–º—É —Ñ–∞–π–ª –±–æ–ª—å—à–æ–π?

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–∞ (817 —Å—Ç—Ä–æ–∫):

1. **–£—Ç–∏–ª–∏—Ç—ã (130 —Å—Ç—Ä–æ–∫)**
   - `_env_float`, `_env_int`, `_setting_*` - –ø–∞—Ä—Å–∏–Ω–≥ –Ω–∞—Å—Ç—Ä–æ–µ–∫
   - `_extract_thread_id` - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ ID –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞
   - `_checkpoint_stats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ payload
   - `_compact_payload` - –∫–æ–º–ø–∞–∫—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö
   - `_log_if_slow` - –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ–¥–ª–µ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

2. **MemorySaver wrapper (40 —Å—Ç—Ä–æ–∫)**
   - `SerializableMemorySaver` - fallback –¥–ª—è dev –æ–∫—Ä—É–∂–µ–Ω–∏—è

3. **Postgres checkpointer (290 —Å—Ç—Ä–æ–∫)**
   - `get_postgres_checkpointer()` - –æ—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—É–ª–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
   - –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ü–∏—è –º–µ—Ç–æ–¥–æ–≤ (`InstrumentedAsyncPostgresSaver`)
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ fallback

4. **Redis checkpointer (30 —Å—Ç—Ä–æ–∫)**
   - `get_redis_checkpointer()` - –∑–∞–≥–ª—É—à–∫–∞ (fallback –Ω–∞ Postgres)

5. **Factory –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (150 —Å—Ç—Ä–æ–∫)**
   - `get_checkpointer()` - —Ñ–∞–±—Ä–∏–∫–∞ —Å auto-detection
   - `warmup_checkpointer_pool()` - –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ–≥—Ä–µ–≤
   - `shutdown_checkpointer_pool()` - graceful shutdown
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ singleton –∏–Ω—Å—Ç–∞–Ω—Å–∞–º–∏

6. **–í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (177 —Å—Ç—Ä–æ–∫)**
   - `_open_pool_on_demand()` - lazy initialization
   - `is_persistent()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∞

### –ú–æ–∂–Ω–æ –ª–∏ —Ä–∞–∑–±–∏—Ç—å –Ω–∞ –º–æ–¥—É–ª–∏?

**–î–ê, –Ω–æ —Å –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç—å—é:**

#### –í–∞—Ä–∏–∞–Ω—Ç 1: –†–∞–∑–±–∏—Ç—å –ø–æ —Ç–∏–ø–∞–º checkpointer
```
checkpointer/
‚îú‚îÄ‚îÄ __init__.py          # Factory –∏ singleton
‚îú‚îÄ‚îÄ base.py              # –£—Ç–∏–ª–∏—Ç—ã (_log_if_slow, _compact_payload)
‚îú‚îÄ‚îÄ postgres.py          # Postgres checkpointer (290 —Å—Ç—Ä–æ–∫)
‚îú‚îÄ‚îÄ redis.py             # Redis checkpointer (30 —Å—Ç—Ä–æ–∫)
‚îú‚îÄ‚îÄ memory.py            # MemorySaver wrapper (40 —Å—Ç—Ä–æ–∫)
‚îî‚îÄ‚îÄ pool_manager.py      # Warmup, shutdown, pool management (100 —Å—Ç—Ä–æ–∫)
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –õ–æ–≥–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ
- ‚úÖ –õ–µ–≥—á–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å
- ‚úÖ –ú–µ–Ω—å—à–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –ø—Ä–∏ merge

**–ú–∏–Ω—É—Å—ã:**
- ‚ö†Ô∏è –ë–æ–ª—å—à–µ —Ñ–∞–π–ª–æ–≤ –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- ‚ö†Ô∏è –ù—É–∂–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –∏–º–ø–æ—Ä—Ç—ã
- ‚ö†Ô∏è –ú–æ–∂–µ—Ç –±—ã—Ç—å over-engineering –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ —Ä–∞–∑–º–µ—Ä–∞

#### –í–∞—Ä–∏–∞–Ω—Ç 2: –û—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** ‚úÖ **–û–°–¢–ê–í–ò–¢–¨ –ö–ê–ö –ï–°–¢–¨**

**–ü—Ä–∏—á–∏–Ω—ã:**
1. **817 —Å—Ç—Ä–æ–∫ - —ç—Ç–æ –ù–ï –æ–≥—Ä–æ–º–Ω—ã–π —Ñ–∞–π–ª** (–æ–±—ã—á–Ω–æ –ø—Ä–æ–±–ª–µ–º—ã –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å 2000+ —Å—Ç—Ä–æ–∫)
2. **–í—Å–µ —Å–≤—è–∑–∞–Ω–æ –ª–æ–≥–∏—á–µ—Å–∫–∏** - –æ–¥–∏–Ω checkpointer, —Ä–∞–∑–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
3. **–õ–µ–≥—á–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å** - –≤—Å–µ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
4. **–ú–µ–Ω—å—à–µ –∏–º–ø–æ—Ä—Ç–æ–≤** - –ø—Ä–æ—â–µ –ø–æ–Ω–∏–º–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

## üìà –ß—Ç–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### 1. **Retry –ª–æ–≥–∏–∫–∞ –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫ –ë–î**
```python
async def aget_tuple_with_retry(self, *args, max_retries=3, **kwargs):
    for attempt in range(max_retries):
        try:
            return await super().aget_tuple(*args, **kwargs)
        except (psycopg.OperationalError, psycopg.InterfaceError) as e:
            if attempt == max_retries - 1:
                raise
            await asyncio.sleep(0.1 * (2 ** attempt))  # Exponential backoff
```

### 2. **Circuit breaker –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –∫–∞—Å–∫–∞–¥–Ω—ã—Ö —Å–±–æ–µ–≤**
```python
from src.core.circuit_breaker import circuit_breaker

@circuit_breaker("checkpointer", failure_threshold=5, recovery_timeout=30)
async def aget_tuple(self, *args, **kwargs):
    ...
```

### 3. **–ú–µ—Ç—Ä–∏–∫–∏ –∑–¥–æ—Ä–æ–≤—å—è –ø—É–ª–∞**
```python
def get_pool_stats(self) -> dict:
    pool = getattr(self, "pool", None)
    if pool and hasattr(pool, "get_stats"):
        return pool.get_stats()
    return {"status": "unknown"}
```

### 4. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è `check_connection`**
```python
# –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ 1-2 —Å–µ–∫—É–Ω–¥—ã
_last_check_time: dict[str, float] = {}
_check_cache_ttl = 1.0  # —Å–µ–∫—É–Ω–¥—ã

async def check_connection(conn):
    conn_id = id(conn)
    now = time.time()
    if conn_id in _last_check_time:
        if now - _last_check_time[conn_id] < _check_cache_ttl:
            return  # Skip check if recently verified
    
    try:
        await conn.execute("SELECT 1")
        _last_check_time[conn_id] = now
    except Exception:
        _last_check_time.pop(conn_id, None)
        raise
```

## ‚úÖ –ò—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞

### –ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏: **8.5/10**

**–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:**
- ‚úÖ Production-ready –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- ‚úÖ –•–æ—Ä–æ—à–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–µ—Ç—Ä–∏–∫–∏
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏–π

**–ß—Ç–æ —É–ª—É—á—à–µ–Ω–æ:**
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω race condition
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω graceful shutdown

**–ß—Ç–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**
- ‚ö†Ô∏è Retry –ª–æ–≥–∏–∫–∞ –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫
- ‚ö†Ô∏è Circuit breaker –¥–ª—è –∑–∞—â–∏—Ç—ã
- ‚ö†Ô∏è –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è `check_connection`

### –ù—É–∂–Ω–æ –ª–∏ —á—Ç–æ-—Ç–æ –¥–æ–±–∞–≤–ª—è—Ç—å?

**–ö—Ä–∏—Ç–∏—á–Ω–æ:** ‚úÖ **–ù–ï–¢** - –æ—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã

**–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ:** 
- Retry –ª–æ–≥–∏–∫–∞ (–µ—Å–ª–∏ —á–∞—Å—Ç–æ –±—ã–≤–∞—é—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ –ë–î)
- Circuit breaker (–µ—Å–ª–∏ –Ω—É–∂–Ω–∞ –∑–∞—â–∏—Ç–∞ –æ—Ç –∫–∞—Å–∫–∞–¥–Ω—ã—Ö —Å–±–æ–µ–≤)
- –ú–µ—Ç—Ä–∏–∫–∏ –ø—É–ª–∞ (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∑–¥–æ—Ä–æ–≤—å—è)

### –ü–æ—á–µ–º—É —Ñ–∞–π–ª –Ω–µ –±—É–¥–µ—Ç –æ–≥—Ä–æ–º–Ω—ã–º?

**–¢–µ–∫—É—â–∏–π —Ä–∞–∑–º–µ—Ä: 817 —Å—Ç—Ä–æ–∫** - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è –º–æ–¥—É–ª—è —Å —Ç–∞–∫–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é.

**–ï—Å–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –≤—Å–µ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:**
- Retry –ª–æ–≥–∏–∫–∞: +50 —Å—Ç—Ä–æ–∫
- Circuit breaker: +30 —Å—Ç—Ä–æ–∫ (–∏—Å–ø–æ–ª—å–∑—É—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π)
- –ú–µ—Ç—Ä–∏–∫–∏ –ø—É–ª–∞: +40 —Å—Ç—Ä–æ–∫
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è check_connection: +20 —Å—Ç—Ä–æ–∫

**–ò—Ç–æ–≥–æ: ~957 —Å—Ç—Ä–æ–∫** - –≤—Å–µ –µ—â–µ –ø—Ä–∏–µ–º–ª–µ–º–æ.

**–ü—Ä–æ–±–ª–µ–º—ã –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è –ø—Ä–∏ 2000+ —Å—Ç—Ä–æ–∫**, –∫–æ–≥–¥–∞ —Ñ–∞–π–ª —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ç—Ä—É–¥–Ω–æ —á–∏—Ç–∞—Ç—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å.

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. ‚úÖ **–û—Å—Ç–∞–≤–∏—Ç—å —Ñ–∞–π–ª –∫–∞–∫ –µ—Å—Ç—å** - —Ä–∞–∑–º–µ—Ä –ø—Ä–∏–µ–º–ª–µ–º—ã–π
2. ‚úÖ **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è** - race condition –∏ shutdown –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
3. ‚ö†Ô∏è **–î–æ–±–∞–≤–∏—Ç—å –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏:**
   - Retry - –µ—Å–ª–∏ —á–∞—Å—Ç–æ –±—ã–≤–∞—é—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ –ë–î
   - Circuit breaker - –µ—Å–ª–∏ –Ω—É–∂–Ω–∞ –∑–∞—â–∏—Ç–∞ –æ—Ç –∫–∞—Å–∫–∞–¥–Ω—ã—Ö —Å–±–æ–µ–≤
   - –ú–µ—Ç—Ä–∏–∫–∏ - –µ—Å–ª–∏ –Ω—É–∂–µ–Ω –¥–µ—Ç–∞–ª—å–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

## üìù –í—ã–≤–æ–¥

**Checkpointer —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ü–†–ê–í–ò–õ–¨–ù–û** —Å —É—á–µ—Ç–æ–º production —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π. –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã. –§–∞–π–ª –Ω–µ –æ–≥—Ä–æ–º–Ω—ã–π –∏ –º–æ–∂–µ—Ç –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è –º–æ–Ω–æ–ª–∏—Ç–Ω—ã–º. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è –¥–æ–±–∞–≤–ª—è—Ç—å —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Ä–µ–∞–ª—å–Ω–æ–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.

