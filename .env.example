# =============================================================================
# MIRT AI - Environment Configuration Template
# =============================================================================
# Copy this file to .env and fill in your values
# =============================================================================

# -----------------------------------------------------------------------------
# Base
# -----------------------------------------------------------------------------
PUBLIC_BASE_URL=https://your-domain.example
DEFAULT_SESSION_ID=

# -----------------------------------------------------------------------------
# OpenAI / OpenRouter
# -----------------------------------------------------------------------------
OPENAI_API_KEY=sk-your-openai-key
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1
OPENROUTER_API_KEY=sk-or-v1-your-openrouter-key
AI_MODEL=gpt-5.1

# -----------------------------------------------------------------------------
# LLM Provider
# -----------------------------------------------------------------------------
LLM_PROVIDER=openai
LLM_MODEL_GROK=x-ai/grok-beta
LLM_MODEL_GPT=gpt-5.1
LLM_MODEL_GEMINI=gemini-3-pro
LLM_MODEL_VISION=gpt-5.1
LLM_REASONING_EFFORT=medium
LLM_TEMPERATURE=0.3
LLM_MAX_TOKENS=2048
PROMPT_TEMPLATE=default

# -----------------------------------------------------------------------------
# Telegram Bot
# -----------------------------------------------------------------------------
TELEGRAM_BOT_TOKEN=
TELEGRAM_WEBHOOK_PATH=/webhooks/telegram

# -----------------------------------------------------------------------------
# Manager Bot
# -----------------------------------------------------------------------------
MANAGER_BOT_TOKEN=
MANAGER_CHAT_ID=

# -----------------------------------------------------------------------------
# ManyChat Integration
# -----------------------------------------------------------------------------
MANYCHAT_API_KEY=
MANYCHAT_API_URL=https://api.manychat.com
MANYCHAT_VERIFY_TOKEN=
MANYCHAT_PAGE_ID=
MANYCHAT_PUSH_MODE=true
MANYCHAT_USE_CELERY=false
MANYCHAT_IMAGE_PROXY_ENABLED=false
MANYCHAT_DEBOUNCE_SECONDS=1.0
MANYCHAT_FALLBACK_AFTER_SECONDS=10.0
MANYCHAT_INTERIM_TEXT=
MANYCHAT_INTERIM_TEXT_WITH_IMAGE=
MANYCHAT_TEXT_TIME_BUDGET_SECONDS=22.0
MANYCHAT_VISION_TIME_BUDGET_SECONDS=55.0
MANYCHAT_SAFE_MODE_INSTAGRAM=true
MANYCHAT_INSTAGRAM_DISABLE_ACTIONS=true
MANYCHAT_INSTAGRAM_ALLOWED_FIELDS=ai_state,ai_intent
MANYCHAT_INSTAGRAM_SPLIT_SEND=true
MANYCHAT_INSTAGRAM_BUBBLE_DELAY_SECONDS=5.0
MANYCHAT_INSTAGRAM_MAX_TYPING_DELAY_SECONDS=2.0
MANYCHAT_INSTAGRAM_MAX_INTERBUBBLE_DELAY_SECONDS=10.0
MANYCHAT_PUSH_MAX_RETRIES=2
MANYCHAT_PUSH_RETRY_BASE_DELAY_SECONDS=0.5
MANYCHAT_PUSH_RETRY_MAX_DELAY_SECONDS=3.0

# -----------------------------------------------------------------------------
# Media Proxy
# -----------------------------------------------------------------------------
MEDIA_PROXY_ENABLED=false
MEDIA_PROXY_ALLOWED_HOSTS=cdn.sitniks.com
MEDIA_PROXY_TOKEN=

# -----------------------------------------------------------------------------
# Supabase
# -----------------------------------------------------------------------------
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_API_KEY=
SUPABASE_TABLE=agent_sessions
SUPABASE_MESSAGES_TABLE=messages
SUPABASE_USERS_TABLE=users

# -----------------------------------------------------------------------------
# Postgres for LangGraph checkpointer
# -----------------------------------------------------------------------------
DATABASE_URL=
DATABASE_URL_POOLER=
LANGGRAPH_CHECKPOINTER=auto

# -----------------------------------------------------------------------------
# Checkpointer tuning
# -----------------------------------------------------------------------------
CHECKPOINTER_WARMUP=true
CHECKPOINTER_WARMUP_TIMEOUT_SECONDS=15
CHECKPOINTER_POOL_MIN_SIZE=0
CHECKPOINTER_POOL_MAX_SIZE=2
CHECKPOINTER_POOL_TIMEOUT_SECONDS=5
CHECKPOINTER_POOL_MAX_IDLE_SECONDS=30
CHECKPOINTER_CONNECT_TIMEOUT_SECONDS=10
CHECKPOINTER_STATEMENT_TIMEOUT_MS=5000
CHECKPOINTER_LOCK_TIMEOUT_MS=1000
CHECKPOINTER_SLOW_LOG_SECONDS=0.5
CHECKPOINTER_MAX_MESSAGES=200
CHECKPOINTER_MAX_MESSAGE_CHARS=4000
CHECKPOINTER_DROP_BASE64=true

# -----------------------------------------------------------------------------
# Summary / Followups
# -----------------------------------------------------------------------------
SUMMARY_RETENTION_DAYS=3
FOLLOWUP_DELAYS_HOURS=24,72

# -----------------------------------------------------------------------------
# Prompts
# -----------------------------------------------------------------------------
DISABLE_CODE_STATE_PROMPTS_FALLBACK=false

# -----------------------------------------------------------------------------
# CRM Integration
# -----------------------------------------------------------------------------
SNITKIX_API_URL=
SNITKIX_API_KEY=
SITNIKS_AI_MANAGER_NAME=AI_Manager
SITNIKS_HUMAN_MANAGER_ID=
ENABLE_CRM_INTEGRATION=false

# -----------------------------------------------------------------------------
# Celery / Redis
# -----------------------------------------------------------------------------
REDIS_URL=redis://localhost:6379/0
CELERY_ENABLED=false
CELERY_RESULT_TIMEOUT=25
CELERY_EAGER=false
CELERY_CONCURRENCY=4
CELERY_MAX_TASKS_PER_CHILD=100

# -----------------------------------------------------------------------------
# Monitoring
# -----------------------------------------------------------------------------
SENTRY_DSN=
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=0.1

# -----------------------------------------------------------------------------
# Feature flags
# -----------------------------------------------------------------------------
DEBUG_TRACE_LOGS=false
USE_OFFER_DELIBERATION=true
DELIBERATION_MIN_CONFIDENCE=0.6
ENABLE_PAYMENT_HITL=false
ENABLE_OBSERVABILITY=true

# -----------------------------------------------------------------------------
# Performance
# -----------------------------------------------------------------------------
LLM_MAX_HISTORY_MESSAGES=20
DEBOUNCER_DELAY_SECONDS=2.5
