# =============================================================================
# MIRT AI - Environment Configuration Template
# =============================================================================
# Copy this file to .env and fill in your values
# =============================================================================

# -----------------------------------------------------------------------------
# AI Model (OpenRouter)
# -----------------------------------------------------------------------------
OPENROUTER_API_KEY=sk-or-v1-your-openrouter-key
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1
AI_MODEL=x-ai/grok-4.1-fast

# -----------------------------------------------------------------------------
# OpenAI (for embeddings, optional)
# -----------------------------------------------------------------------------
# If not set, deterministic hash fallback will be used
OPENAI_API_KEY=sk-your-openai-key

# -----------------------------------------------------------------------------
# Telegram Bot
# -----------------------------------------------------------------------------
TELEGRAM_BOT_TOKEN=123456789:ABCdefGHIjklMNOpqrsTUVwxyz
TELEGRAM_WEBHOOK_PATH=/webhooks/telegram
PUBLIC_BASE_URL=https://your-domain.example

# -----------------------------------------------------------------------------
# ManyChat Integration
# Get API key from: Settings -> API -> Get API Key
# -----------------------------------------------------------------------------
MANYCHAT_API_KEY=your-manychat-api-key
MANYCHAT_VERIFY_TOKEN=your-shared-secret-token

# -----------------------------------------------------------------------------
# Supabase
# -----------------------------------------------------------------------------
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_API_KEY=your-service-role-key

# Tables
SUPABASE_TABLE=agent_sessions
SUPABASE_MESSAGES_TABLE=messages
SUPABASE_USERS_TABLE=users
SUPABASE_CATALOG_TABLE=mirt_products
SUPABASE_EMBEDDINGS_TABLE=mirt_product_embeddings
SUPABASE_MATCH_RPC=match_mirt_products

# -----------------------------------------------------------------------------
# Automation Settings
# -----------------------------------------------------------------------------
SUMMARY_RETENTION_DAYS=3
FOLLOWUP_DELAYS_HOURS=24,72

# -----------------------------------------------------------------------------
# Embeddings
# -----------------------------------------------------------------------------
EMBEDDING_MODEL=text-embedding-3-small
EMBEDDING_DIM=1536

# -----------------------------------------------------------------------------
# Celery / Redis (Background Tasks)
# -----------------------------------------------------------------------------
REDIS_URL=redis://localhost:6379/0
CELERY_ENABLED=false
CELERY_EAGER=false
CELERY_CONCURRENCY=4
CELERY_MAX_TASKS_PER_CHILD=100

# -----------------------------------------------------------------------------
# Monitoring (Optional)
# -----------------------------------------------------------------------------
SENTRY_DSN=
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=0.1

# Flower UI auth (for docker-compose --profile monitoring)
FLOWER_AUTH=admin:admin

# -----------------------------------------------------------------------------
# CRM Integration (Optional)
# -----------------------------------------------------------------------------
SNITKIX_API_URL=
SNITKIX_API_KEY=
