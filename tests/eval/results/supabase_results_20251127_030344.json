{
  "run_id": "supabase-20251127_030344",
  "timestamp": "2025-11-27T03:03:44.597966",
  "summary": {
    "total": 12,
    "passed": 7,
    "failed": 5,
    "pass_rate": "58.3%"
  },
  "results": [
    {
      "test_id": "SB-001",
      "type": "semantic_search",
      "description": "Семантичний пошук — сукня святкова",
      "pass": false,
      "result_count": 0,
      "first_result": null,
      "checks": [
        "Expected min 1 results, got 0"
      ]
    },
    {
      "test_id": "SB-002",
      "type": "semantic_search",
      "description": "Семантичний пошук — костюм зі штанами",
      "pass": false,
      "result_count": 0,
      "first_result": null,
      "checks": [
        "Expected min 1 results, got 0"
      ]
    },
    {
      "test_id": "SB-003",
      "type": "get_by_id",
      "description": "Пошук за ID продукту",
      "pass": true,
      "data": {
        "id": 3443041,
        "name": "Сукня Анна",
        "variant_name": null,
        "color_variant": null,
        "category": "сукні",
        "subcategory": "школа та святкове",
        "sizes": [
          "110-116",
          "122-128",
          "134-140",
          "146-152",
          "158-164"
        ],
        "material": "поплін, підкладка саржа",
        "care": null,
        "price_uniform": true,
        "price_all_sizes": 1850,
        "price_by_size": null,
        "colors": {
          "малина": {
            "sku": "3443041-RASPBERRY",
            "photo_url": "https://cdn.sitniks.com/cmp-2065/products/2024-08-17/9bd8a4/3786b5-1723912841187.jpeg",
            "description": "Глибокий малиновий, більш святковий настрій."
          },
          "чорний": {
            "sku": "3443041-BLACK",
            "photo_url": "https://cdn.sitniks.com/cmp-2065/products/2024-08-17/37ed45/27d210e-1723912860590.jpeg",
            "description": "Класичний чорний, універсальний варіант."
          },
          "голубий": {
            "sku": "3443041-BLUE",
            "photo_url": "https://cdn.sitniks.com/cmp-2065/products/2024-08-17/1d23e6/bfd5d1-1723912755763.jpeg",
            "description": "Ніжно голубий, акуратний силует, зручно для школи."
          }
        },
        "created_at": "2025-11-26T22:02:23.540296+00:00"
      }
    },
    {
      "test_id": "SB-004",
      "type": "get_by_id",
      "description": "Пошук неіснуючого ID",
      "pass": true,
      "reason": "Correctly returned empty"
    },
    {
      "test_id": "SB-005",
      "type": "rpc_call",
      "description": "RPC match_mirt_products працює",
      "pass": false,
      "reason": "Expected min 1 results"
    },
    {
      "test_id": "SB-006",
      "type": "session_crud",
      "description": "Сесія — створення та читання",
      "pass": false,
      "reason": "Unknown test type: session_crud"
    },
    {
      "test_id": "SB-007",
      "type": "embedding_check",
      "description": "Embeddings — перевірка розмірності вектора",
      "pass": true,
      "checks": [
        "All checks passed"
      ],
      "chunk_text_preview": "Сукня Анна сукні школа та святкове поплін, підкладка саржа Ніжно голубий, акуратний силует, зручно д"
    },
    {
      "test_id": "SB-008",
      "type": "semantic_search",
      "description": "Пошук з порожнім запитом",
      "pass": true,
      "result": [],
      "reason": "Empty query handled correctly"
    },
    {
      "test_id": "SB-009",
      "type": "semantic_search",
      "description": "Пошук з SQL injection спробою",
      "pass": true,
      "result_count": 3,
      "first_result": {
        "id": 11703918,
        "name": "Костюм Лагуна",
        "variant_name": null,
        "color_variant": "помаранчевий",
        "category": "костюми з штанами",
        "subcategory": "школа та святкове",
        "sizes": [
          "80-92",
          "98-104",
          "110-116",
          "122-128",
          "134-140",
          "146-152",
          "158-164"
        ],
        "material": "плюш, теплий",
        "care": null,
        "price_uniform": true,
        "price_all_sizes": null,
        "price_by_size": {
          "80-92": 1590,
          "98-104": 1790,
          "110-116": 1990,
          "122-128": 2190,
          "134-140": 2290,
          "146-152": 2390,
          "158-164": 2390
        },
        "colors": {
          "помаранчевий": {
            "sku": "11703918-ORANGE",
            "photo_url": "https://cdn.sitniks.com/cmp-2065/products/2025-10-03/ce5d4e/76922c-1759510036476.jpeg",
            "description": "Яскравий помаранчевий Лагуна, виразний образ."
          }
        },
        "photo_url": "https://cdn.sitniks.com/cmp-2065/products/2025-10-03/ce5d4e/76922c-1759510036476.jpeg",
        "similarity": 0.0238221269150132
      },
      "checks": [
        "All checks passed"
      ]
    },
    {
      "test_id": "SB-010",
      "type": "check_photo_extraction",
      "description": "Перевірка photo_url в colors",
      "pass": false,
      "reason": "Unknown test type: check_photo_extraction"
    },
    {
      "test_id": "SB-011",
      "type": "semantic_search",
      "description": "Пошук тренча",
      "pass": true,
      "result_count": 2,
      "first_result": {
        "id": 3663608,
        "name": "Сукня Анна",
        "variant_name": "лео рожева",
        "color_variant": null,
        "category": "сукні",
        "subcategory": "школа та святкове",
        "sizes": [
          "110-116",
          "122-128",
          "134-140",
          "146-152",
          "158-164"
        ],
        "material": "бавовна з леопардовим принтом, рожева гама",
        "care": "делікатне прання 30 градусів, принт стійкий",
        "price_uniform": true,
        "price_all_sizes": 1850,
        "price_by_size": null,
        "colors": {
          "рожевий": {
            "sku": "3663608-ROSE-LEO",
            "photo_url": "https://cdn.sitniks.com/cmp-2065/products/2024-09-10/677233/8bd60e-1725951361085.jpeg",
            "description": "Рожева з леопардовим принтом, більш яскравий образ."
          }
        },
        "photo_url": "https://cdn.sitniks.com/cmp-2065/products/2024-09-10/677233/8bd60e-1725951361085.jpeg",
        "similarity": -0.00533217233025529
      },
      "checks": [
        "All checks passed"
      ]
    },
    {
      "test_id": "SB-012",
      "type": "schema_validation",
      "description": "Перевірка всіх обов'язкових полів продукту",
      "pass": true,
      "reason": "Table accessible"
    }
  ]
}