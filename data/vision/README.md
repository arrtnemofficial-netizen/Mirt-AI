# üëÅÔ∏è MIRT Vision System
## –Ñ–¥–∏–Ω–∞ —Ç–æ—á–∫–∞ –∫–æ–Ω—Ç—Ä–æ–ª—é —Ä–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è —Ç–æ–≤–∞—Ä—ñ–≤

```
data/vision/
‚îÇ
‚îú‚îÄ‚îÄ üìã products_master.yaml     ‚Üê –†–ï–î–ê–ì–£–ô –¢–Ü–õ–¨–ö–ò –¶–ï–ô –§–ê–ô–õ!
‚îÇ                                  –í—Å—ñ –ø—Ä–æ–¥—É–∫—Ç–∏, –∫–æ–ª—å–æ—Ä–∏, —Ü—ñ–Ω–∏, –æ–∑–Ω–∞–∫–∏
‚îÇ
‚îú‚îÄ‚îÄ üìù vision_main.md           ‚Üê –ü—Ä–æ–º–ø—Ç –¥–ª—è Vision Agent
‚îÇ                                  –¢–æ–Ω, –ø—Ä–∞–≤–∏–ª–∞, –∞–ª–≥–æ—Ä–∏—Ç–º
‚îÇ
‚îú‚îÄ‚îÄ üîß generate.py              ‚Üê –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ñ–≤
‚îÇ                                  –ó–∞–ø—É—Å—Ç–∏ –ø—ñ—Å–ª—è –∑–º—ñ–Ω —É master
‚îÇ                                  (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ —á–µ—Ä–µ–∑ scripts/generate_vision_artifacts.py)
‚îÇ
‚îî‚îÄ‚îÄ generated/                   ‚Üê –ê–í–¢–û–ú–ê–¢–ò–ß–ù–û –ì–ï–ù–ï–†–£–Ñ–¢–¨–°–Ø
    ‚îú‚îÄ‚îÄ model_rules.yaml         –ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è –ø—Ä–æ–º–ø—Ç—É
    ‚îú‚îÄ‚îÄ vision_guide.json        –î–µ—Ç–∞–ª—å–Ω–∏–π –≥–∞–π–¥ —Ä–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è
    ‚îú‚îÄ‚îÄ test_set.json            –¢–µ—Å—Ç–æ–≤–∏–π –Ω–∞–±—ñ—Ä
    ‚îî‚îÄ‚îÄ canonical_names.json     Mapping –Ω–∞–∑–≤ –¥–ª—è LLM
```

## üöÄ –Ø–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ç–∏—Å—å

### 1. –î–æ–¥–∞—Ç–∏/–∑–º—ñ–Ω–∏—Ç–∏ –ø—Ä–æ–¥—É–∫—Ç
```bash
# –í—ñ–¥–∫—Ä–∏–π products_master.yaml —ñ –≤–Ω–µ—Å–∏ –∑–º—ñ–Ω–∏
code data/vision/products_master.yaml
```

### 2. –ü–µ—Ä–µ–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∏
```bash
# –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏–π —Å–ø–æ—Å—ñ–± (–∑ –∫–æ—Ä–µ–Ω—è –ø—Ä–æ—î–∫—Ç—É)
python scripts/generate_vision_artifacts.py

# –ê–±–æ –Ω–∞–ø—Ä—è–º—É
python data/vision/generate.py
```

### 3. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ç–µ—Å—Ç–∞–º–∏
```bash
pytest tests/test_vision_health.py tests/test_product_matcher.py -v
```

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ products_master.yaml

```yaml
products:
  kostum_laguna:
    id: 11698818
    name: "–ö–æ—Å—Ç—é–º –õ–∞–≥—É–Ω–∞"
    category: "–∫–æ—Å—Ç—é–º–∏"
    
    # –¶—ñ–Ω–∞
    price_type: "uniform" | "by_size"
    price: 2190  # –∞–±–æ prices_by_size: {...}
    
    # –ö–æ–ª—å–æ—Ä–∏ (–¢–Ü–õ–¨–ö–ò —Ü—ñ!)
    colors:
      —Ä–æ–∂–µ–≤–∏–π:
        photo_url: "https://cdn.sitniks.com/..."
        sku: "11698818-PINK"
    
    # –í—ñ–∑—É–∞–ª—å–Ω–µ —Ä–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è
    visual:
      fabric_type: "–ü–õ–Æ–®"
      key_markers:
        - "–ü–û–í–ù–ê –ë–õ–ò–°–ö–ê–í–ö–ê (–≤—ñ–¥ –≤–µ—Ä—Ö—É –¥–æ –Ω–∏–∑—É)"
      low_quality_markers:
        - "–í–æ—Ä—Å–∏—Å—Ç–∞ —Ç–∫–∞–Ω–∏–Ω–∞"
        - "–Ø—Å–∫—Ä–∞–≤—ñ –∫–æ–ª—å–æ—Ä–∏"
    
    # –í—ñ–¥–º—ñ–Ω–Ω–æ—Å—Ç—ñ –≤—ñ–¥ —Å—Ö–æ–∂–∏—Ö
    distinction:
      confused_with: ["–ö–æ—Å—Ç—é–º –ú—Ä—ñ—è"]
      critical_check: "–ë–ª–∏—Å–∫–∞–≤–∫–∞ –ü–û–í–ù–ê? = –õ–∞–≥—É–Ω–∞"
```

## ‚ö° –ö—Ä–∏—Ç–∏—á–Ω—ñ –ø—Ä–∞–≤–∏–ª–∞ —Ä–æ–∑—Ä—ñ–∑–Ω–µ–Ω–Ω—è

| –ü–∞—Ä–∞ | –ö–ª—é—á–æ–≤–∞ –æ–∑–Ω–∞–∫–∞ |
|------|----------------|
| **–õ–∞–≥—É–Ω–∞ vs –ú—Ä—ñ—è** | –ë–ª–∏—Å–∫–∞–≤–∫–∞: –ü–û–í–ù–ê vs –ö–û–†–û–¢–ö–ê (half-zip) |
| **–†–∏—Ç–º vs –ö–∞–ø—Ä–∏–∑** | –ö–∞–ø—é—à–æ–Ω: –Ñ vs –ù–ï–ú–ê–Ñ |
| **–¢—Ä–µ–Ω—á –µ–∫–æ vs —Ç–∫–∞–Ω–∏–Ω–Ω–∏–π** | –¢–∫–∞–Ω–∏–Ω–∞: –ë–õ–ò–°–ö–£–ß–ê vs –ú–ê–¢–û–í–ê |

## üîÑ Workflow

1. **–ù–æ–≤–∏–π –ø—Ä–æ–¥—É–∫—Ç** ‚Üí –î–æ–¥–∞–π –≤ `products_master.yaml`
2. **–ó–∞–ø—É—Å—Ç–∏** `python data/vision/generate.py`
3. **–¢–µ—Å—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ** –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç—å –≤—Å—ñ –∫–æ–º–±—ñ–Ω–∞—Ü—ñ—ó
4. **Vision Agent** –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω—ñ —Ñ–∞–π–ª–∏

**–ù–ï –†–ï–î–ê–ì–£–ô —Ñ–∞–π–ª–∏ –≤ `generated/` –≤—Ä—É—á–Ω—É - –≤–æ–Ω–∏ –ø–µ—Ä–µ–∑–∞–ø–∏—à—É—Ç—å—Å—è!**
